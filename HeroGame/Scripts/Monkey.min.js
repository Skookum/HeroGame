var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},HeroGame;(function(n){var t=function(n){function t(t,i,r,u,f){var e=this;this._xPos=t,this._yPos=i,this._shooting=!1,this._shield=!1,this._jumpingUp=!1,this._jumpingDown=!1,this._movementSpeed=200,this._jumpingSpeed=100/1e3,this.Sprite=new eg.Graphics.Sprite2d(t,i,new eg.Graphics.Assets.ImageSource("/Images/monkey.png",104,91)),this.Sprite.ZIndex=100,this._shootingEventHandler=u,this._shieldEventHandler=f,n.call(this,this.Sprite.GetDrawBounds()),this._movementController=new eg.MovementControllers.LinearMovementController([this.Bounds,this.Sprite],this._movementSpeed,!1,!1),this._inputController=new eg.InputControllers.DirectionalInputController(r.Keyboard,function(n,t){n==="Right"||n==="Left"?e._movementController.Move(n,t):n==="Up"&&t===!0?e.Jump():n==="Down"&&e.Shield()}),r.Keyboard.OnCommandDown("Space",function(){e.Shoot()})}return __extends(t,n),t.prototype.Collided=function(i){i.With instanceof t||(this.Sprite.Rotation=-90,n.prototype.Collided.call(this,i))},t.prototype.Jump=function(){var n=this;this._jumpingUp||this._jumpingDown||(this._jumpingUp=!0,setTimeout(function(){n._jumpingDown=!0,n._jumpingUp=!1},1e3),setTimeout(function(){n._jumpingDown=!1},2e3))},t.prototype.Shoot=function(){var n=this;this._shooting||(this._shootingEventHandler.Trigger(),this._shooting=!0,setTimeout(function(){return n._shooting=!1},1e3))},t.prototype.Shield=function(){var n=this;this._shield||(this._shieldEventHandler.Trigger(),this._shield=!0,setTimeout(function(){return n._shield=!1},5e3))},t.prototype.Update=function(n){this._movementController.Update(n),this._jumpingUp&&(this.Sprite.Position.Y-=n.Elapsed.Milliseconds*this._jumpingSpeed,this.Bounds.Position.Y-=n.Elapsed.Milliseconds*this._jumpingSpeed),this._jumpingDown&&(this.Sprite.Position.Y+=n.Elapsed.Milliseconds*this._jumpingSpeed,this.Bounds.Position.Y+=n.Elapsed.Milliseconds*this._jumpingSpeed)},t}(eg.Collision.Collidable);n.Monkey=t})(HeroGame||(HeroGame={}))