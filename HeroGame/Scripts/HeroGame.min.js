var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},HeroGame;(function(n){var t=function(t){function i(i){var r=this;t.call(this,i),this._shootEventHandler=new eg.EventHandler,this._shootEventHandler.Bind(function(){return r.Shoot()}),this._monkey=new n.Monkey(50,330,this.Input,this._shootEventHandler),this._rockProvider=new n.RockProvider(i.width+50,348,this.Scene,this.CollisionManager),this._cloudProvider=new n.CloudProvider(i.width/4,100,129,97,this.Scene,this.Input),this._ground=new eg.Graphics.Line2d(0,380,i.width,380),this._ground.Color="white",this._gameOver=!1,this.Scene.Add(this._monkey.Sprite),this.Scene.Add(this._ground),this.CollisionManager.Monitor(this._monkey),this.CollisionManager.OnCollision.Bind(function(n,t){return r.GameOver(n,t)})}return __extends(i,t),i.prototype.Update=function(n){this._gameOver||(this._bullet&&this._bullet.Update(n),this._monkey.Update(n),this._rockProvider.Update(n),this._cloudProvider.Update(n))},i.prototype.Shoot=function(){var t=this._monkey.Bounds.Position.X+this._monkey.Sprite.Size.Width+10,i=this._monkey.Bounds.Position.Y+10;this._bullet=new n.Bullet(t,i),this.CollisionManager.Monitor(this._bullet),this.Scene.Add(this._bullet.Sprite),this._bullet.Move()},i.prototype.GameOver=function(t){if(t instanceof n.Monkey){this.CollisionManager.Unmonitor(this._monkey);var i=new eg.Graphics.Text2d(this.Scene.DrawArea.width/2,this.Scene.DrawArea.height/2,"Game Over");i.FontSettings.FontFamily=eg.Graphics.Assets.FontFamily.Monospace,i.FontSettings.FontSize="60px",i.Color="white",this.Scene.Add(i),this._gameOver=!0}},i}(eg.Game);n.Game=t})(HeroGame||(HeroGame={}))